# SharePoint CSV Simulator Spec Addendum

This addendum captures clarifications and implementation assumptions not explicitly covered in the base spec.

## Global Assumptions

- All dataset timestamps use the shared `RandomProvider.now()` clock to ensure deterministic test runs when seeded.
- Default row count for every generator is 50; callers may supply an override which is bounded to `[10, 1000]`.
- Role enforcement follows `ROLE_RULES` in `schemas.py`; `Campaign_Interactions` allows all roles.
- Generated numeric metrics are integers encoded as strings (CSV-ready) and remain within documented ranges.

## Dataset-Specific Notes

### ACQ / QCBS / RESC / IB_Calls

- `Handle` range: 0–25 inclusive.
- Where `Avg Handle` appears (IB_Calls) it mirrors `Handle` for simplicity.

### Dials

- Derives additional averages (`Avg Talk`, `Avg Hold`, `Avg ACW`) with constraints:
  - `Avg Talk <= Avg Handle`
  - `Avg Hold <= (Avg Handle - Avg Talk)`
  - `Avg ACW` range: 0–10
- Totals are computed as `Avg * 5` (multiplier constant) for each of Handle, Talk, Hold, ACW.

### Productivity

- `Logged In` range: 200–480.
- Component buckets (`On Queue`, `Interacting`, `Idle`, `Off Queue`) are sampled **sequentially** from remaining capacity to guarantee:  
  `On Queue + Interacting + Idle + Off Queue <= Logged In`.

### Campaign_Interactions

- Direction randomly chosen between `inbound` / `outbound`.
- `Users` column contains a single UUID (one user per row) for this simulation.

## Determinism

Seeding the `RandomProvider` ensures identical CSV output across runs including timestamp minute-level alignment (seconds & microseconds zeroed).

## Future Extensions (Not Yet Implemented)

- Configurable total multiplier for Dials totals (currently hard-coded `5`).
- Distribution-based (non-uniform) sampling for handle / time metrics.
- Multi-user expansion for `Campaign_Interactions.Users`.

---
Generated by automation to ensure living documentation stays in sync with code behavior.
